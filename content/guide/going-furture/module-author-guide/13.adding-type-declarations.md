```ts []
import { defineNuxtModule, addTemplate, addTypeTemplate } from "@nuxt/kit";

export default defineNuxtModule({
  setup(options, nuxt) {
    addTypeTemplate({
      filename: "types/my-module.d.ts",
      getContents: () => `// Generated by my-module
        interface MyModuleNitroRules {
          myModule?: { foo: 'bar' }
        }
        declare module 'nitropack' {
          interface NitroRouteRules extends MyModuleNitroRules {}
          interface NitroRouteConfig extends MyModuleNitroRules {}
        }
        export {}`,
    });
  },
});
```

If you need more granular control, you can use the prepare:types hook to register a callback that will inject your types.

```ts []
const template = addTemplate({ /* template options */ });
nuxt.hook("prepare:types", ({ references }) => {
  references.push({ path: template.dst });
});
```
